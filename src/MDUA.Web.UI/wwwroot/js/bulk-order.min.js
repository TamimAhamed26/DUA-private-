document.addEventListener("DOMContentLoaded",function(){console.log("Bulk Order Script Loaded");const l=document.getElementById("bulkOrderForm");l?l.addEventListener("submit",function(r){console.log("--- FORM SUBMISSION STARTED ---");const t=document.querySelectorAll('input[form="bulkOrderForm"]');console.log(`Found ${t.length} inputs linked to form via 'form' attribute.`);const o=document.querySelectorAll(".variant-checkbox:checked");console.log(`Manually counted checked variants: ${o.length}`),o.length===0&&(console.warn("WARNING: No variants are checked!"),alert("Debug: JS detects 0 selected items. Form submission might fail."));const n=new FormData(l);let c=0,a=0;console.log("--- DATA BEING SENT ---");for(var e of n.entries())e[0]==="selectedVariants"?(c++,console.log(`Variant: ${e[1]}`)):e[0].startsWith("quantities")?(a++,console.log(`Qty Field: ${e[0]} = ${e[1]}`)):console.log(`Field: ${e[0]} = ${e[1]}`);console.log(`Total Variants in FormData: ${c}`),console.log(`Total Quantities in FormData: ${a}`),c===0&&(r.preventDefault(),alert("STOPPED: FormData is empty for 'selectedVariants'. Check Console (F12)."))}):console.error("CRITICAL: Form with ID 'bulkOrderForm' not found!"),document.querySelectorAll(".product-checkbox").forEach(r=>{r.addEventListener("change",function(){const t=this.id;document.querySelectorAll(`.variant-checkbox[data-parent="${t}"]`).forEach(n=>{n.checked=this.checked})})}),document.querySelectorAll(".variant-checkbox").forEach(r=>{r.addEventListener("change",function(){const t=this.dataset.parent,o=document.getElementById(t),n=document.querySelectorAll(`.variant-checkbox[data-parent="${t}"]`),c=Array.from(n).every(e=>e.checked),a=Array.from(n).some(e=>e.checked);o.checked=c,o.indeterminate=a&&!c})})});
