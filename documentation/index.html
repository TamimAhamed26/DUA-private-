<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MDUA Admin - Unified SPA</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.6.1/cropper.min.css" />
    
    <style>
        /* =========================================
           1. UNIFIED THEME & VARIABLES
           ========================================= */
        :root {
            --red-main: #dc3545;
            --red-dark: #b41f31;
            --yellow-main: #ffc107;
            --bg-body: #faf5f5;
            --glass-bg: rgba(255, 255, 255, 0.82);
            --glass-border: rgba(255, 255, 255, 0.9);
            --text-main: #212529;
            --text-muted: #6c757d;
            --shadow-soft: 0 18px 45px rgba(0, 0, 0, 0.14);
            --radius-xl: 20px;
            --transition: 0.2s ease-out;
            --sidebar-width: 260px;
            
            /* Dashboard Specific Colors */
            --dash-card-radius: 16px;
            --dash-transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --theme-blue: #60a5fa; 
            --theme-blue-soft: #eff6ff;
            --theme-blue-border: #bfdbfe;
            --theme-green: #34d399; 
            --theme-green-soft: #ecfdf5;
            --theme-green-border: #a7f3d0;
            --theme-red: #dc3545;
            --theme-red-soft: #fff5f5;
            --theme-red-border: rgba(220, 53, 69, 0.25);
        }

        * { box-sizing: border-box; }

        html, body {
            height: 100%;
            margin: 0;
            overflow: hidden;
            font-family: system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
            background: radial-gradient(circle at top left, #ffe8e8 0, #fff7e0 50%, #f8f9fa 100%);
            color: var(--text-main);
        }

        /* =========================================
           2. LAYOUT & SIDEBAR
           ========================================= */
        .admin-wrapper {
            display: flex;
            height: 100vh;
            width: 100%;
            padding: 15px;
            gap: 15px;
            position: relative;
        }

        .admin-sidebar {
            width: var(--sidebar-width);
            flex-shrink: 0;
            height: 100%;
            display: flex;
            flex-direction: column;
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            overflow: hidden;
        }

        /* Mobile Sidebar Logic */
        @media (min-width: 768px) {
            .admin-sidebar.toggled { width: 0; margin-left: -15px; opacity: 0; }
        }
        @media (max-width: 767.98px) {
            .admin-sidebar {
                position: absolute; top: 15px; left: 15px; bottom: 15px; z-index: 1050;
                transform: translateX(calc(-100% - 20px));
                height: calc(100% - 30px);
                box-shadow: 5px 0 25px rgba(0,0,0,0.15);
            }
            .admin-sidebar.toggled { transform: translateX(0); }
        }

        .admin-main {
            flex-grow: 1;
            height: 100%;
            min-width: 0;
        }

        .glass-panel {
            background: var(--glass-bg);
            backdrop-filter: blur(18px) saturate(140%);
            -webkit-backdrop-filter: blur(18px) saturate(140%);
            border-radius: var(--radius-xl);
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow-soft);
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        /* Sidebar Styling */
        .sidebar-content { padding: 1rem; height: 100%; overflow-y: auto; }
        
        .brand-logo {
            width: 40px; height: 40px; border-radius: 50%;
            background: radial-gradient(circle at 30% 0, #fff5d0 0, var(--yellow-main) 45%, var(--red-main) 100%);
            display: flex; align-items: center; justify-content: center;
            font-weight: 700; color: #721c24;
            box-shadow: 0 10px 25px rgba(220, 53, 69, 0.45);
        }

        .nav-pills .nav-link {
            border-radius: 999px; padding: .6rem 1rem; font-size: .9rem;
            color: var(--text-muted); transition: all var(--transition);
            margin-bottom: 0.25rem; display: flex; align-items: center; gap: 0.6rem;
            border: 1px solid transparent; cursor: pointer;
        }
        .nav-pills .nav-link:hover { background: rgba(255, 193, 7, 0.12); color: var(--red-dark); }
        .nav-pills .nav-link.active {
            background: rgba(220, 53, 69, 0.08); color: var(--red-main);
            border-color: rgba(220, 53, 69, 0.15); font-weight: 600;
        }
        .nav-link-sm { font-size: 0.85rem; padding: 0.4rem 1rem; }
        .dropdown-arrow { transition: transform 0.2s ease; margin-left: auto; }
        .nav-link[aria-expanded="true"] .dropdown-arrow { transform: rotate(180deg); }

        /* =========================================
           3. CONTENT AREAS & SPA LOGIC
           ========================================= */
        .admin-content-area {
            padding: 1.5rem; padding-top: 4rem; flex-grow: 1; overflow-y: auto;
        }
        
        /* The SPA Magic: Hide/Show Sections */
        .view-section { display: none; animation: fadeIn 0.3s; }
        .view-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Scrollbar */
        .custom-scrollbar::-webkit-scrollbar { width: 6px; height: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.1); border-radius: 10px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: rgba(0,0,0,0.2); }

        /* =========================================
           4. DASHBOARD SPECIFIC CSS
           ========================================= */
        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(0, 0, 0, 0.06);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.03);
            border-radius: var(--dash-card-radius);
            transition: transform var(--dash-transition), box-shadow var(--dash-transition);
            height: 100%; display: flex; flex-direction: column; overflow: hidden;
        }
        .glass-card:hover { transform: translateY(-3px); box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08); }
        
        .kpi-card { border: 1px solid var(--theme-red-border) !important; min-height: 120px; justify-content: center; }
        .card-orders { border: 1px solid var(--theme-blue-border) !important; }
        .card-products { border: 1px solid var(--theme-green-border) !important; }
        
        .card-header-custom {
            background: linear-gradient(to right, #f8f9fa, #ffffff);
            padding: 1rem 1.5rem; border-bottom: 1px solid #f1f5f9;
            display: flex; justify-content: space-between; align-items: center;
        }

        /* Tables (Dashboard) */
        .table-modern { margin-bottom: 0; }
        .table-modern thead th {
            background-color: #fff; color: var(--text-muted); font-size: 0.75rem;
            text-transform: uppercase; letter-spacing: 0.05em; border-bottom: 2px solid #f1f5f9; padding: 1rem;
        }
        .product-list-item { padding: 0.9rem 1.5rem; border-bottom: 1px solid #f8f9fa; transition: background 0.2s; }
        .product-list-item:hover { background-color: #f8fafc; }
        .product-icon {
            width: 38px; height: 38px; background: #f8f9fa; border-radius: 8px;
            display: flex; align-items: center; justify-content: center; color: var(--text-muted);
        }

        /* =========================================
           5. PRODUCT MANAGEMENT SPECIFIC CSS
           ========================================= */
        /* Table Styles */
        .table-wrapper { border-radius: 16px; overflow: hidden; background: #fff; border: 1px solid rgba(0,0,0,0.06); }
        .products-table thead {
            background: linear-gradient(to right, rgba(220, 53, 69, 0.1), rgba(255, 193, 7, 0.1));
            color: var(--red-dark); font-size: 0.85rem; text-transform: uppercase; font-weight: 900;
            border-bottom: 2px solid var(--red-main);
        }
        .products-table th, .products-table td { padding: 1rem 1.2rem; vertical-align: middle; }
        
        .pill-tag {
            font-size: .7rem; text-transform: uppercase; letter-spacing: .18em; padding: .1rem .6rem;
            border-radius: 999px; background: #fff; border: 1px solid rgba(220, 53, 69, .25); color: var(--red-dark);
        }
        .status-badge {
            display: inline-block; padding: 0.375rem 0.875rem; border-radius: 20px;
            font-size: 0.8rem; font-weight: 600; text-transform: uppercase;
        }
        .status-active { background: linear-gradient(135deg, #48bb78 0%, #38a169 100%); color: white; }
        .status-inactive { background: linear-gradient(135deg, #fc8181 0%, #f56565 100%); color: white; }
        .product-img-thumb { width: 50px; height: 50px; object-fit: cover; border-radius: 8px; border: 1px solid #eee; }

        /* Form Styles */
        .form-control-modal {
            border-color: #e2e8f0; padding: 0.6rem 0.85rem; border-radius: 8px; font-size: 0.95rem;
        }
        .form-control-modal:focus {
            border-color: #a0aec0; background-color: #f8fafc; box-shadow: 0 0 0 3px rgba(160, 174, 192, 0.1);
        }

        /* =========================================
           6. MODALS
           ========================================= */
        .modal-custom {
            border: none; border-radius: 20px; overflow: hidden;
            background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(20px);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
        }
        .modal-header-custom {
            background: linear-gradient(135deg, var(--red-main), var(--red-dark));
            color: #fff; padding: 20px 30px; border: none;
        }
        .modal-header-danger {
            background: linear-gradient(135deg, #dc3545, #9b1c28);
            color: #fff; padding: 20px 30px; border: none;
        }
        .btn-close-white { filter: invert(1) grayscale(100%) brightness(200%); }
        
        /* Product Details Card inside Modal */
        .product-details-card { background: white; border-radius: 12px; border: 1px solid #e2e8f0; }
        .details-header { padding: 1rem 1.5rem; border-bottom: 1px solid #f1f5f9; display: flex; align-items: center; gap: 0.75rem; }
        .details-header-icon { width: 32px; height: 32px; background: #f1f5f9; border-radius: 8px; display: flex; align-items: center; justify-content: center; }
        .price-value { font-size: 1.1rem; font-weight: 700; color: #10b981; }
        .detail-group { padding: 0.5rem; border-radius: 8px; border: 1px solid transparent; }
        .detail-group:hover { background-color: #f1f5f9; }

        /* Delete Warning */
        .delete-warning { display: flex; gap: 1rem; align-items: flex-start; margin-bottom: 1.5rem; background: #fff5f5; padding: 1rem; border-radius: 10px; border: 1px solid #feb2b2; }
        .warning-icon { width: 40px; height: 40px; background: #fc8181; color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 1.2rem; flex-shrink: 0; }

        /* Toggle Button */
        #sidebar-toggle-btn { background: rgba(255,255,255,0.8); backdrop-filter: blur(4px); }
    </style>
</head>
<body>

    <div class="admin-wrapper">

        <aside class="admin-sidebar" id="admin-sidebar">
            <div class="glass-panel d-flex flex-column h-100 sidebar-content">
                <div class="d-flex align-items-center mb-4 ps-2 pt-2">
                    <div class="brand-logo me-2">M</div>
                    <div class="overflow-hidden">
                        <div class="fw-bold text-truncate" style="max-width: 150px;">MDUA Admin</div>
                        <div class="small text-muted" style="font-size: 0.7rem; letter-spacing: 0.1em;">MANAGEMENT</div>
                    </div>
                </div>

                <div class="mb-2 text-uppercase small text-muted fw-semibold ps-3">Menu</div>
                <ul class="nav nav-pills flex-column mb-auto">

                    <li class="nav-item">
                        <a class="nav-link active" id="nav-dashboard" onclick="switchView('dashboard')">
                            <span>üìä</span> Dashboard
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link collapsed" id="nav-products-parent" data-bs-toggle="collapse" href="#productsMenu" role="button" aria-expanded="false" aria-controls="productsMenu">
                            <span>
                                <span>üì¶</span> Products
                            </span>
                            <span class="dropdown-arrow">‚ñæ</span>
                        </a>
                        <div class="collapse" id="productsMenu">
                            <ul class="nav flex-column ms-3 mt-1 border-start border-2 border-light ps-2">
                                <li class="nav-item">
                                    <a class="nav-link nav-link-sm" id="nav-product-list" onclick="switchView('product-list')">Product List</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link nav-link-sm" id="nav-add-product" onclick="switchView('add-product')">Add Product</a>
                                </li>
                            </ul>
                        </div>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <span>üë•</span> Customers
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <span>üõí</span> Orders
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <span>‚öôÔ∏è</span> Settings
                        </a>
                    </li>
                </ul>

                <div class="mt-3 pt-3 border-top border-secondary-subtle">
                    <button class="btn btn-sm btn-outline-danger w-100 d-flex align-items-center justify-content-center gap-2">
                        <span>üö™</span> Logout
                    </button>
                </div>
            </div>
        </aside>

        <main class="admin-main">
            <div class="glass-panel h-100 d-flex flex-column overflow-hidden position-relative">

                <button id="sidebar-toggle-btn" class="btn btn-sm btn-white border shadow-sm position-absolute top-0 start-0 m-3 z-3">
                    <i class="fas fa-bars"></i>
                </button>

                <div class="admin-content-area custom-scrollbar">

                    <div id="view-dashboard" class="view-section active">
                        
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <div>
                                <h2 class="fw-bold mb-0 text-dark">Dashboard</h2>
                                <div class="text-muted small">Overview for Admin User</div>
                            </div>
                            <span class="badge bg-white text-dark border shadow-sm px-3 py-2 rounded-pill">
                                üìÖ <span id="currentDate">Oct 25, 2023</span>
                            </span>
                        </div>

                        <div class="row g-3 mb-4">
                            <div class="col-md-4">
                                <div class="glass-card p-3">
                                    <div class="text-muted small text-uppercase fw-bold">User ID</div>
                                    <div class="fs-4 fw-bold">1001</div>
                                    <div class="small text-muted">System Identifier</div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="glass-card p-3">
                                    <div class="text-muted small text-uppercase fw-bold">Role</div>
                                    <div class="fs-4 fw-bold text-danger">Administrator</div>
                                    <div class="small text-muted">Access Level</div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="glass-card p-3">
                                    <div class="text-muted small text-uppercase fw-bold">Email</div>
                                    <div class="fs-5 fw-semibold text-truncate">admin@mdua.com</div>
                                    <div class="small text-muted">Verified Contact</div>
                                </div>
                            </div>
                        </div>

                        <div class="row g-3 mb-4">
                            <div class="col-md-3">
                                <div class="glass-card kpi-card p-3 border-start border-4 border-success position-relative">
                                    <div class="d-flex justify-content-between align-items-start z-1">
                                        <div>
                                            <div class="text-uppercase text-muted small fw-bold mb-1">Total Revenue</div>
                                            <div class="fs-4 fw-bold text-success">Tk. 1,250,000</div>
                                        </div>
                                        <div class="bg-success bg-opacity-10 p-2 rounded-circle text-success">üí∞</div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="glass-card kpi-card p-3 border-start border-4 border-primary position-relative">
                                    <div class="d-flex justify-content-between align-items-start z-1">
                                        <div>
                                            <div class="text-uppercase text-muted small fw-bold mb-1">Total Orders</div>
                                            <div class="fs-4 fw-bold text-primary">1,240</div>
                                            <div class="small text-muted">12 today</div>
                                        </div>
                                        <div class="bg-primary bg-opacity-10 p-2 rounded-circle text-primary">üõí</div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="glass-card kpi-card p-3 border-start border-4 border-warning position-relative">
                                    <div class="d-flex justify-content-between align-items-start z-1">
                                        <div>
                                            <div class="text-uppercase text-muted small fw-bold mb-1">Pending</div>
                                            <div class="fs-4 fw-bold text-warning">45</div>
                                            <div class="small text-muted">Needs action</div>
                                        </div>
                                        <div class="bg-warning bg-opacity-10 p-2 rounded-circle text-warning">‚ö°</div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="glass-card kpi-card p-3 border-start border-4 border-info position-relative">
                                    <div class="d-flex justify-content-between align-items-start z-1">
                                        <div>
                                            <div class="text-uppercase text-muted small fw-bold mb-1">Customers</div>
                                            <div class="fs-4 fw-bold text-info">8,450</div>
                                        </div>
                                        <div class="bg-info bg-opacity-10 p-2 rounded-circle text-info">üë•</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row g-4 mb-4">
                            <div class="col-lg-8">
                                <div class="glass-card p-4 h-100">
                                    <div class="d-flex justify-content-between align-items-center mb-4">
                                        <h6 class="fw-bold text-dark mb-0">Sales Trend (Last 6 Months)</h6>
                                    </div>
                                    <div style="height: 250px;">
                                        <canvas id="salesChart"></canvas>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="glass-card p-4 h-100">
                                    <div class="d-flex justify-content-between align-items-center mb-4">
                                        <h6 class="fw-bold text-dark mb-0">Order Status</h6>
                                    </div>
                                    <div style="height: 250px; position: relative;">
                                        <canvas id="statusChart"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row g-4">
                            <div class="col-lg-8">
                                <div class="glass-card card-orders p-0 h-100">
                                    <div class="card-header-custom">
                                        <h6 class="fw-bold mb-0">New Orders</h6>
                                        <a href="#" class="btn btn-sm btn-primary text-white rounded-pill px-3 shadow-sm" title="Add Order">
                                            <span class="me-1">Ôºã</span>
                                        </a>
                                    </div>
                                    <div class="table-responsive">
                                        <table class="table table-modern mb-0 align-middle">
                                            <thead>
                                                <tr>
                                                    <th class="ps-4">Order ID</th>
                                                    <th>Type</th>
                                                    <th>Amount</th>
                                                    <th>Status</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td class="ps-4 fw-bold text-dark">#ORD-9012</td>
                                                    <td><span class="badge bg-light text-secondary border">Online</span></td>
                                                    <td class="fw-bold text-dark">Tk. 2,500</td>
                                                    <td><span class="badge bg-success text-white rounded-pill">Confirmed</span></td>
                                                </tr>
                                                <tr>
                                                    <td class="ps-4 fw-bold text-dark">#ORD-9013</td>
                                                    <td><span class="badge bg-light text-secondary border">Direct</span></td>
                                                    <td class="fw-bold text-dark">Tk. 1,200</td>
                                                    <td><span class="badge bg-warning text-dark rounded-pill">Pending</span></td>
                                                </tr>
                                                <tr>
                                                    <td class="ps-4 fw-bold text-dark">#ORD-9014</td>
                                                    <td><span class="badge bg-light text-secondary border">Online</span></td>
                                                    <td class="fw-bold text-dark">Tk. 5,000</td>
                                                    <td><span class="badge bg-secondary-subtle text-dark rounded-pill">Shipped</span></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="p-3 text-center border-top bg-light bg-opacity-25">
                                        <a href="#" class="text-decoration-none fw-bold small">See All Orders &rarr;</a>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="col-lg-4">
                                <div class="glass-card card-products p-0 h-100">
                                    <div class="card-header-custom">
                                        <h6 class="fw-bold mb-0">New Products</h6>
                                        <button onclick="switchView('add-product')" class="btn btn-sm btn-success rounded-pill px-3" title="Add Product">
                                            <span class="me-1">Ôºã</span>
                                        </button>
                                    </div>
                                    <div class="product-list">
                                        <div class="product-list-item d-flex justify-content-between align-items-center">
                                            <div class="d-flex align-items-center gap-3">
                                                <div class="product-icon">üì¶</div>
                                                <div>
                                                    <div class="fw-bold text-dark small text-truncate" style="max-width: 140px;">Wireless Mouse</div>
                                                    <div class="text-muted" style="font-size: 0.7rem;">Oct 24</div>
                                                </div>
                                            </div>
                                            <span class="fw-bold small text-success">Tk. 850</span>
                                        </div>
                                        <div class="product-list-item d-flex justify-content-between align-items-center">
                                            <div class="d-flex align-items-center gap-3">
                                                <div class="product-icon">üì¶</div>
                                                <div>
                                                    <div class="fw-bold text-dark small text-truncate" style="max-width: 140px;">Mechanical Key..</div>
                                                    <div class="text-muted" style="font-size: 0.7rem;">Oct 23</div>
                                                </div>
                                            </div>
                                            <span class="fw-bold small text-success">Tk. 4,500</span>
                                        </div>
                                        <div class="product-list-item d-flex justify-content-between align-items-center">
                                            <div class="d-flex align-items-center gap-3">
                                                <div class="product-icon">üì¶</div>
                                                <div>
                                                    <div class="fw-bold text-dark small text-truncate" style="max-width: 140px;">USB-C Hub</div>
                                                    <div class="text-muted" style="font-size: 0.7rem;">Oct 22</div>
                                                </div>
                                            </div>
                                            <span class="fw-bold small text-success">Tk. 1,200</span>
                                        </div>
                                    </div>
                                    <div class="p-3 text-center border-top bg-light bg-opacity-25">
                                        <a href="#" onclick="switchView('product-list')" class="text-decoration-none fw-bold text-success small">See All Products &rarr;</a>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>

                    <div id="view-product-list" class="view-section">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <div>
                                <h2 class="fw-bold mb-0">Products</h2>
                                <div class="text-muted small">Manage catalog, prices & inventory</div>
                            </div>
                            <button class="btn btn-primary shadow-sm" onclick="switchView('add-product')">
                                <i class="fas fa-plus fa-sm text-white-50"></i> Add New Product
                            </button>
                        </div>

                        <div class="glass-card h-100 d-flex flex-column">
                            <div class="p-3 border-bottom border-light d-flex justify-content-between align-items-center">
                                <div class="fw-bold">Catalog Inventory</div>
                                <div class="input-group w-25">
                                    <input type="text" class="form-control form-control-sm" placeholder="Search...">
                                </div>
                            </div>

                            <div class="table-wrapper flex-grow-1">
                                <div class="table-responsive">
                                    <table class="table table-hover mb-0 align-middle products-table">
                                        <thead>
                                            <tr>
                                                <th>Name</th>
                                                <th>Category</th>
                                                <th>Level</th>
                                                <th>Slug</th>
                                                <th>Price</th>
                                                <th>Status</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td class="fw-semibold">
                                                    <div class="d-flex align-items-center">
                                                        <img src="https://via.placeholder.com/50" class="product-img-thumb me-2">
                                                        <span>Combo Offer ‚Äì 3 Premium T-Shirts</span>
                                                    </div>
                                                </td>
                                                <td><span class="pill-tag">Apparel</span></td>
                                                <td>10</td>
                                                <td class="small text-muted">combo-offer</td>
                                                <td><div class="fw-bold">Tk. 1,999.00</div></td>
                                                <td><span class="status-badge status-active">Active</span></td>
                                                <td>
                                                    <div class="d-flex gap-1">
                                                        <button class="btn btn-sm btn-light border" title="Images">üñºÔ∏è</button>
                                                        <button class="btn btn-sm btn-light border" data-bs-toggle="modal" data-bs-target="#productDetailsModal">üìÑ</button>
                                                        <button class="btn btn-sm btn-light border" data-bs-toggle="modal" data-bs-target="#editProductModal">‚úèÔ∏è</button>
                                                        <button class="btn btn-sm btn-danger-subtle text-danger border border-danger-subtle" data-bs-toggle="modal" data-bs-target="#deleteProductModal">üóëÔ∏è</button>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="fw-semibold">
                                                    <div class="d-flex align-items-center">
                                                        <img src="https://via.placeholder.com/50" class="product-img-thumb me-2">
                                                        <span>Winter Hoodie - Black</span>
                                                    </div>
                                                </td>
                                                <td><span class="pill-tag">Winter Wear</span></td>
                                                <td>5</td>
                                                <td class="small text-muted">winter-hoodie-bk</td>
                                                <td>
                                                    <div class="text-decoration-line-through text-muted small">Tk. 1,200.00</div>
                                                    <div class="text-danger fw-bold">Tk. 850.00</div>
                                                </td>
                                                <td><span class="status-badge status-inactive">Inactive</span></td>
                                                <td>
                                                    <div class="d-flex gap-1">
                                                        <button class="btn btn-sm btn-light border">üñºÔ∏è</button>
                                                        <button class="btn btn-sm btn-light border">üìÑ</button>
                                                        <button class="btn btn-sm btn-light border">‚úèÔ∏è</button>
                                                        <button class="btn btn-sm btn-danger-subtle text-danger border border-danger-subtle">üóëÔ∏è</button>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="view-add-product" class="view-section">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <div>
                                <h2 class="fw-bold mb-0">Add Product</h2>
                                <div class="text-muted small">Create a new item in your catalog</div>
                            </div>
                            <button onclick="switchView('product-list')" class="btn btn-outline-secondary btn-sm rounded-pill px-3">
                                &larr; Back to List
                            </button>
                        </div>

                        <form>
                            <div class="row g-4">
                                <div class="col-lg-8">
                                    <div class="glass-card p-4 h-100">
                                        <h6 class="text-uppercase text-muted small fw-bold mb-4 border-bottom pb-2">Product Details</h6>

                                        <div class="mb-4">
                                            <label class="form-label fw-bold small">Product Name</label>
                                            <input type="text" class="form-control form-control-modal" placeholder="e.g. Premium T-Shirt" required />
                                        </div>

                                        <div class="mb-4">
                                            <label class="form-label fw-bold small">Description</label>
                                            <textarea class="form-control form-control-modal" rows="6" placeholder="Enter full product description..."></textarea>
                                        </div>

                                        <div class="row g-3">
                                            <div class="col-md-6">
                                                <label class="form-label fw-bold small">Base Price</label>
                                                <div class="input-group">
                                                    <span class="input-group-text bg-light border-end-0">Tk</span>
                                                    <input type="number" class="form-control form-control-modal border-start-0 ps-0" placeholder="0.00" />
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <label class="form-label fw-bold small">Reorder Level</label>
                                                <input type="number" class="form-control form-control-modal" value="0" />
                                            </div>
                                            <div class="col-12">
                                                <label class="form-label fw-bold small">Slug (Unique URL)</label>
                                                <input type="text" class="form-control form-control-modal" placeholder="product-name-slug" />
                                                <div class="form-text small">Leave empty to auto-generate from name.</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-lg-4">
                                    <div class="glass-card p-4 position-sticky" style="top: 1rem;">
                                        <h6 class="text-uppercase text-muted small fw-bold mb-3">Configuration</h6>

                                        <div class="bg-light p-3 rounded border mb-3">
                                            <div class="form-check">
                                                <input type="checkbox" class="form-check-input" id="IsActive" checked />
                                                <label class="form-check-label fw-bold" for="IsActive">Active</label>
                                                <div class="small text-muted" style="font-size: 0.75rem;">Visible on storefront</div>
                                            </div>
                                        </div>

                                        <div class="mb-4">
                                            <label class="form-label fw-bold small">Category</label>
                                            <select class="form-select form-control-modal">
                                                <option value="">-- Select Category --</option>
                                                <option value="1">Apparel</option>
                                                <option value="2">Electronics</option>
                                                <option value="3">Winter Wear</option>
                                            </select>
                                        </div>

                                        <hr class="border-light my-4" />

                                        <h6 class="text-uppercase text-muted small fw-bold mb-3">Attributes & Variants</h6>
                                        <div id="attributes-container" class="mb-2">
                                            <div class="attribute-row mb-2">
                                                <label class="small text-muted fw-bold mb-1">Add attribute</label>
                                                <select class="form-select form-select-sm form-control-modal mb-2">
                                                    <option value="">-- Select Attribute --</option>
                                                    <option value="1">Size</option>
                                                    <option value="2">Color</option>
                                                    <option value="3">Fabric</option>
                                                </select>
                                            </div>
                                        </div>
                                        <button type="button" class="btn btn-sm btn-outline-secondary w-100 dashed-border mb-3">
                                            + Add Another Attribute
                                        </button>

                                        <hr class="border-light my-4" />

                                        <div class="d-grid gap-2">
                                            <button type="button" class="btn btn-danger fw-bold shadow-sm">Create Product</button>
                                            <button type="button" onclick="switchView('product-list')" class="btn btn-light text-muted">Cancel</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>

                </div>
            </div>
        </main>
    </div>

    <div class="modal fade" id="productDetailsModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content modal-custom">
                <div class="modal-header modal-header-custom">
                    <h5 class="modal-title">Product Details</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" style="background: #f8f9fa;">
                    <div class="product-details-card">
                        <div class="details-header">
                            <div class="details-header-icon">
                                <i class="fas fa-box"></i>
                            </div>
                            <h5 class="mb-0 fw-bold">Combo Offer ‚Äì 3 Premium T-Shirts</h5>
                        </div>
                        <div class="row g-0">
                            <div class="col-md-7 p-4">
                                <h6 class="text-muted text-uppercase small fw-bold mb-3">Basic Info</h6>
                                <div class="detail-group mb-2">
                                    <label class="small text-muted fw-bold d-block">Category</label>
                                    <span class="category-tag">Apparel</span>
                                </div>
                                <div class="detail-group mb-2">
                                    <label class="small text-muted fw-bold d-block">Price</label>
                                    <span class="price-value">1,999.00</span>
                                </div>
                            </div>
                            <div class="col-md-5 bg-light p-4 border-start">
                                <h6 class="text-muted text-uppercase small fw-bold mb-3">System Status</h6>
                                <span class="status-badge status-active">Active</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="editProductModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content modal-custom">
                <div class="modal-header modal-header-custom">
                    <h5 class="modal-title">Edit Product</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="p-2">
                        <div class="mb-4">
                            <label class="form-label fw-bold text-muted small text-uppercase">Product Name</label>
                            <input class="form-control form-control-lg fw-bold" value="Combo Offer ‚Äì 3 Premium T-Shirts" />
                        </div>
                        <div class="row g-3 mb-3">
                            <div class="col-md-6">
                                <label class="form-label fw-bold text-muted small text-uppercase">Category</label>
                                <select class="form-select"><option selected>Apparel</option></select>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label fw-bold text-muted small text-uppercase">Slug</label>
                                <input class="form-control bg-light text-secondary" value="combo-offer" readonly />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer border-0">
                    <button class="btn btn-light" data-bs-dismiss="modal">Cancel</button>
                    <button class="btn btn-primary">Save Changes</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="deleteProductModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content modal-custom">
                <div class="modal-header modal-header-danger">
                    <h5 class="modal-title"><i class="fas fa-exclamation-triangle me-2"></i> Delete Product</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body p-4">
                    <div class="delete-warning">
                        <div class="warning-icon">!</div>
                        <div class="delete-warning-content">
                            <p>Are you sure you want to delete <strong>Combo Offer</strong>?</p>
                            <p class="small text-muted">This action cannot be undone.</p>
                        </div>
                    </div>
                    <button class="btn btn-danger w-100">Confirm Delete</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
        // 1. Sidebar Toggle Script
        document.getElementById('sidebar-toggle-btn').addEventListener('click', function() {
            document.getElementById('admin-sidebar').classList.toggle('toggled');
        });

        // 2. SPA Navigation Logic
        function switchView(viewName) {
            // A. Hide all views
            document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active'));
            
            // B. Reset Navigation Active States
            document.querySelectorAll('.nav-link').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.nav-link-sm').forEach(el => el.classList.remove('active'));
            
            // C. Show Target View & Highlight Nav
            if (viewName === 'dashboard') {
                document.getElementById('view-dashboard').classList.add('active');
                document.getElementById('nav-dashboard').classList.add('active');
            } 
            else if (viewName === 'product-list') {
                document.getElementById('view-product-list').classList.add('active');
                document.getElementById('nav-products-parent').classList.add('active'); // Parent highlight
                document.getElementById('nav-product-list').classList.add('active');
                
                // Ensure dropdown is open
                var bsCollapse = new bootstrap.Collapse(document.getElementById('productsMenu'), { toggle: false });
                bsCollapse.show();
            } 
            else if (viewName === 'add-product') {
                document.getElementById('view-add-product').classList.add('active');
                document.getElementById('nav-products-parent').classList.add('active'); // Parent highlight
                document.getElementById('nav-add-product').classList.add('active');

                 // Ensure dropdown is open
                 var bsCollapse = new bootstrap.Collapse(document.getElementById('productsMenu'), { toggle: false });
                bsCollapse.show();
            }
        }

        // 3. Date & Charts (Dashboard Specific)
        document.getElementById('currentDate').innerText = new Date().toLocaleDateString('en-GB', { day: 'numeric', month: 'short', year: 'numeric' });

        const salesCtx = document.getElementById('salesChart').getContext('2d');
        new Chart(salesCtx, {
            type: 'line',
            data: {
                labels: ['May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct'],
                datasets: [{
                    label: 'Monthly Sales (Tk)',
                    data: [12000, 19000, 15000, 22000, 24000, 30000],
                    borderColor: '#3b82f6',
                    backgroundColor: 'rgba(59, 130, 246, 0.1)',
                    borderWidth: 2,
                    tension: 0.4,
                    fill: true,
                    pointRadius: 4,
                    pointHoverRadius: 6
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { display: false } },
                scales: {
                    y: { beginAtZero: true, grid: { borderDash: [2, 4], color: '#e5e7eb' } },
                    x: { grid: { display: false } }
                }
            }
        });

        const statusCtx = document.getElementById('statusChart').getContext('2d');
        new Chart(statusCtx, {
            type: 'doughnut',
            data: {
                labels: ['Confirmed', 'Pending', 'Shipped', 'Delivered'],
                datasets: [{
                    data: [40, 25, 15, 20],
                    backgroundColor: ['#86efac', '#fcd34d', '#a78bfa', '#38bdf8'],
                    borderWidth: 0,
                    hoverOffset: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                cutout: '75%',
                plugins: {
                    legend: { position: 'right', labels: { boxWidth: 12, usePointStyle: true } }
                }
            }
        });

        // Bootstrap Modal Fixes
        var originalSetScrollbar = bootstrap.Modal.prototype._setScrollbar;
        bootstrap.Modal.prototype._setScrollbar = function () { };
        bootstrap.Modal.prototype._adjustDialog = function () { };

    </script>
</body>
</html>